import { useState, useEffect } from "react"
import Card from "../components/Card"

import "./APIPlaces.css"
const Planets = () => {
	const [planets, setPlanets] = useState([])
	const [isLoading, setIsLoading] = useState(false)

	useEffect(() => {
		const getData = () => {
			fetch("http://intergalacticdb.me/api/planets")
				.then((res) => res.json())
				.then((res) => {
					console.log(res)
					setPlanets(res)
					setIsLoading(true)
				})
		}
		getData()
	}, [])

	return (
		<div>
			Planets !
			<div className="GaleryPlanets">
				{isLoading ? (
					planets.map((planet) => (
						<Card
							key={planet.characters}
							id={planet.characters}
                            image={planet.image}
							name={planet.name}
                            description={planet.description}
                            region={planet.region}
                            species={planet.species}
                            system={planet.system}
						/>
					))
				) : (
					<div>...Loading</div>
				)}
			</div>
		</div>
	)
}
export default Planets